/* 
 * bootstrap-list-filter v0.0.1 - 2014-07-04 
 * 
 * Copyright 2014 Stefano Cudini 
 * stefano.cudini@gmail.com 
 * http://labs.easyblog.it/ 
 * 
 * Licensed under the MIT license. 
 * 
 * Demo: 
 * http://labs.easyblog.it/bootstrap-list-filter/ 
 * 
 * Source: 
 * git@github.com:stefanocudini/bootstrap-list-filter.git 
 * 
 */
$.fn.btsListFilter=function(a,b){function c(a,b){return a.replace(/\{ *([\w_]+) *\}/g,function(a,c){return b[c]||""})}var d=$(this),e=$(a),f=d;return b=$.extend({source:null,eventKey:"keyup",itemEl:".list-group-item",itemChild:null,itemTmpl:'<a class="list-group-item" href="#"><span>{title}</span></a>',itemFilter:function(a,b){return $(a).text().toUpperCase().indexOf(b.toUpperCase())>=0}},b),b.itemEl&&(f=d.find(b.itemEl)),b.itemChild&&(f=f.find(b.itemChild)),e.on(b.eventKey,function(){var a=$(this).val(),e=f.filter(function(){return b.itemFilter(this,a)}),g=f.not(e);b.itemChild&&(e=e.parents(b.itemEl),g=g.parents(b.itemEl).hide()),e.show(),g.hide(),""!==a&&"function"===$.type(b.source)&&(e.hide(),g.hide(),b.source.call(this,a,function(a){e.hide(),g.hide(),d.find(".bts-dynamic-item").remove();for(var f in a){var h=c(b.itemTmpl,a[f]);h&&$(h).addClass("bts-dynamic-item").appendTo(d)}})),""===a&&(e.show(),g.show(),d.find(".bts-dynamic-item").remove())}),d};