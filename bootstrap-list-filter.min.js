/* 
 * bootstrap-list-filter v0.0.6 - 2014-07-06 
 * 
 * Copyright 2014 Stefano Cudini 
 * stefano.cudini@gmail.com 
 * http://labs.easyblog.it/ 
 * 
 * Licensed under the MIT license. 
 * 
 * Demo: 
 * http://labs.easyblog.it/bootstrap-list-filter/ 
 * 
 * Source: 
 * git@github.com:stefanocudini/bootstrap-list-filter.git 
 * 
 */
jQuery.fn.btsListFilter=function(a,b){function c(a,b){return a.replace(/\{ *([\w_]+) *\}/g,function(a,c){return b[c]||""})}function d(a,b){var c;return b=b||300,function(){var d=this,e=arguments;clearTimeout(c),c=setTimeout(function(){a.apply(d,Array.prototype.slice.call(e))},b)}}var e=jQuery,f=e(this),g=e(a),h=f;return b=e.extend({delay:300,source:null,minLength:2,initial:!0,eventKey:"keyup",itemEl:".list-group-item",itemChild:null,itemTmpl:'<a class="list-group-item" href="#"><span>{title}</span></a>',itemNode:function(a){return c(b.itemTmpl,a)},itemFilter:function(a,c){c=c.replace(new RegExp("^[.]$|[[]|()*]","g"),"");var d=e(a).text(),f=b.initial?"^":"",g=new RegExp(f+c,"i");return g.test(d)}},b),b.itemEl&&(h=f.find(b.itemEl)),b.itemChild&&(h=h.find(b.itemChild)),g.on(b.eventKey,d(function(){var a=e(this).val(),c=h.filter(function(){return b.itemFilter(this,a)}),d=h.not(c);b.itemChild&&(c=c.parents(b.itemEl),d=d.parents(b.itemEl).hide()),""!==a&&a.length>=b.minLength?(c.show(),d.hide(),"function"===e.type(b.source)&&(c.hide(),d.hide(),b.source.call(this,a,function(a){c.hide(),d.hide(),f.find(".bts-dynamic-item").remove();for(var g in a)e(b.itemNode(a[g])).addClass("bts-dynamic-item").appendTo(f)}))):(c.show(),d.show(),f.find(".bts-dynamic-item").remove())},b.delay)),f};