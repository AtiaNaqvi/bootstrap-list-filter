/* 
 * bootstrap-list-filter v0.0.9 - 2014-07-06 
 * 
 * Copyright 2014 Stefano Cudini 
 * stefano.cudini@gmail.com 
 * http://labs.easyblog.it/ 
 * 
 * Licensed under the MIT license. 
 * 
 * Demo: 
 * http://labs.easyblog.it/bootstrap-list-filter/ 
 * 
 * Source: 
 * git@github.com:stefanocudini/bootstrap-list-filter.git 
 * 
 */
!function(a){a.fn.btsListFilter=function(b,c){function d(a,b){return a.replace(/\{ *([\w_]+) *\}/g,function(a,c){return b[c]||""})}function e(a,b){var c;return b=b||300,function(){var d=this,e=arguments;clearTimeout(c),c=setTimeout(function(){a.apply(d,Array.prototype.slice.call(e))},b)}}var f=a(this),g=a(b),h=f;return c=a.extend({delay:300,minLength:1,initial:!0,eventKey:"keyup",sourceData:null,sourceTmpl:'<a class="list-group-item" href="#"><span>{title}</span></a>',sourceNode:function(a){return d(c.sourceTmpl,a)},itemEl:".list-group-item",itemChild:null,itemFilter:function(b,d){d=d.replace(new RegExp("^[.]$|[[]|()*]","g"),"");var e=a(b).text(),f=c.initial?"^":"",g=new RegExp(f+d,"i");return g.test(e)}},c),g.on(c.eventKey,e(function(){var b=a(this).val();c.itemEl&&(h=f.find(c.itemEl)),c.itemChild&&(h=h.find(c.itemChild));var d=h.filter(function(){return c.itemFilter(this,b)}),e=h.not(d);c.itemChild&&(d=d.parents(c.itemEl),e=e.parents(c.itemEl).hide()),""!==b&&b.length>=c.minLength?(d.show(),e.hide(),"function"===a.type(c.sourceData)&&(d.hide(),e.hide(),c.sourceData.call(this,b,function(b){d.hide(),e.hide(),f.find(".bts-dynamic-item").remove();for(var g in b)a(c.sourceNode(b[g])).addClass("bts-dynamic-item").appendTo(f)}))):(d.show(),e.show(),f.find(".bts-dynamic-item").remove())},c.delay)).on("blur",function(){a(this).val("").trigger(c.eventKey)}),f}}(jQuery);